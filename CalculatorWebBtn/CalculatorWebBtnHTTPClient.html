<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

    <input type="text" id="tbCalc" /><p>
    <input type="button" value="0" id="btn0" onclick="fNum(this)" />
    <input type="button" value="1" id="btn1" onclick="fNum(this)" />
    <input type="button" value="2" id="btn2" onclick="fNum(this)" />
    <input type="button" value="3" id="btn3" onclick="fNum(this)" />
    <input type="button" value="4" id="btn4" onclick="fNum(this)" />
<p>
    <input type="button" value="5" id="btn5" onclick="fNum(this)" />
    <input type="button" value="6" id="btn6" onclick="fNum(this)" />
    <input type="button" value="7" id="btn7" onclick="fNum(this)" />
    <input type="button" value="8" id="btn8" onclick="fNum(this)" />
    <input type="button" value="9" id="btn9" onclick="fNum(this)" />
<p>
    <input type="button" value="+" id="btnPlus" onclick="fOp(this)" />
    <input type="button" value="-" id="btnMinus" onclick="fOp(this)" />
    <input type="button" value="*" id="btnMult" onclick="fOp(this)" />
    <input type="button" value="/" id="btnDiv" onclick="fOp(this)" />
    <input type="button" value="=" id="btnRes" onclick="fOp(this)" />

    <script type="text/javascript">

        var num1Txt;
        var opStr;

        function fNum(p)
        {
            tbCalc.value += p.value;
        }

        function fOp(p)
        {
            if (p.value == '=')
            {
                var aNum = parseInt(num1Txt);
                var bNum = parseInt(tbCalc.value);
                var oPer = opStr;
                var res = CalcN(aNum, bNum, oPer);
                tbCalc.value = res;
            }
            else
            {
                num1Txt = tbCalc.value;
                tbCalc.value = "";
                opStr = p.value;
            }
        }

        function CalcN(num1, num2, op)
        {
            if(op == '+')
                op = 'p';

            var req = "a="+num1+"&b="+num2+"&op="+op;
            var rr = new XMLHttpRequest();
            rr.open('GET', 'http://localhost:8080?'+req, false);
            rr.send(null);
            return rr.responseText;
        };
    </script>

</body>
</html>
